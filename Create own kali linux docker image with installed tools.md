# Create own kali linux docker image with installed tools
 
 1. **Install docker:** The very first step is to make sure that your system has Docker installed. if not, head to https://docs.docker.com/engine/install/
 2. **Getting minimal Kali image** from https://www.kali.org/docs/containers/official-kalilinux-docker-images/
 This downloads official Kali Linux Docker image
 ```
 docker pull kalilinux/kali-rolling
 ``` 
 3. **Run Kali image**, Ireates a container based on that image and starts /bin/bash in the container. Kali image is bare bones. Though it has Kali apt sources configured, no tools are installed
 ``` 
 docker run -ti kalilinux/kali-rolling /bin/bash 
 ```
 
 4. **Update the package** :Start a container using the docker run command above, then run the following in the Kali shell
 
```
apt update
apt dist-upgrade
```

5. **Install tools metapackages:** The names of the metapackages, as well as description of what is included in them, are listed here: https://www.kali.org/news/kali-linux-metapackages/
First consider using kali-tools-top10 as your starting point
```
apt install kali-tools-top10
```

6.**Create New Image:** Now letâ€™s look at how to create a Docker image from the container. 
We have a working container and we want to turn it into an image and push it to  Docker Hub so community users can access it.
To create a new image based on the changes we just did, exit the Kali Linux shell  and run the following:
``` 
docker ps -a
```

This will list all the Docker containers (-a means also include stopped ones). The output should be something similar to:

```
CONTAINER ID   IMAGE                                  COMMAND                  CREATED          STATUS                      PORTS                                       NAMES
f1ca46f5bcad   kalilinux/kali-rolling:latest          "bin/bash"                   22 minutes ago   Up 22 minutes                          
```

The first step in creating a new image is to commit the changes that weâ€™ve already made, adding a message about the changes and specifying the author, as in:
```
docker commit -m "Message" -a "Author Name" [containername] [imagename]
```

So in my case, that will be:
```
docker commit -m "added tools"  -a "satya" Kali satyendra22/bugbounty_tools_satya:v1
sha256:c76b579511fd51901b7af72fbca639c406d43b93902512b59daea0b9cafa3414
```

Next we want to go ahead and push the new image to the Docker Hub so we can use it:
```
docker push satyendra22/bugbounty_tools_satya:v1
The push refers to repository [docker.io/satyendra22/bugbounty_tools_satya]
772ceedc7e62: Pushing [==>                                                ]  147.5MB/2.917GB
```

Now if you list the images that are available, you should see it in the list
```
docker images
REPOSITORY                           TAG                                                     IMAGE ID       CREATED          SIZE
satyendra22/bugbounty_tools_satya    v1                                                      c76b579511fd   45 minutes ago   3.04GB
```

Now if you create a new container based on this image, you will see it get downloaded from the Docker Hub

```
C:\Users\security>docker run -ti bugbounty_tools_satya bin/bash
â”Œâ”€â”€(rootðŸ’€070628a94aa7)-[/]
â””â”€# ls

docker ps -a
CONTAINER ID   IMAGE                                  COMMAND       CREATED              STATUS                       PORTS     NAMES
070628a94aa7   bugbounty_tools_satya                  "bin/bash"    About a minute ago   Exited (255) 7 seconds ago             nifty_kepler
```
7. You can download my docker image with top10  pentest tools for docker hub
https://hub.docker.com/repository/docker/satyendra22/bugbounty_tools_satya

